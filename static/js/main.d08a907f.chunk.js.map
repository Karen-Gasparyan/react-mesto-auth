{"version":3,"sources":["components/Logo/Logo.js","components/MyProfile/MyProfile.js","components/UserProfile/UserProfile.js","components/BurgerMenu/BurgerMenu.js","components/AuthButton/AuthButton.js","components/Header/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/AuthForm/AuthForm.js","components/Login/Login.js","components/Register/Register.js","images/burger-menu.svg","images/close-menu-Icon.svg","components/Loged/Loged.js","components/ProtectedRoute.js","contexts/SpinnerContext.js","components/spinner/Spinner.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","images/infoTooltip-done.svg","images/infoTooltip-error.svg","components/MessagePopup.js","components/LoadingMessage/LoadingMessage.js","components/InfoTooltip/InfoTooltip.js","utils/api.js","utils/auth.js","components/App.js","index.js"],"names":["Logo","className","MyProfile","userEmail","signOut","onClick","UserProfile","loggedIn","BurgerMenu","Component","component","changeHeaderMenu","headerMenuBurger","AuthButton","loginPage","handleChangeLoginPage","to","Header","visibleHeaderMenu","CurrentUserContext","React","createContext","Card","cardValues","onCardClick","onCardLike","onCardDelete","name","link","likes","owner","_id","currentUser","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","other","cardLikeButtonClassName","src","alt","onError","e","target","type","aria-label","title","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","cardsError","about","avatar","map","values","Footer","AuthForm","authData","email","password","emailError","passwordError","authDirty","validForm","handleChangeEmail","handleChangePassword","blurHandler","submitButtonText","onSubmit","required","minLength","autoComplete","placeholder","onBlur","value","onChange","id","maxLength","disabled","Login","handleSubmitLogin","setLoginPage","useEffect","preventDefault","Register","handleSubmitRegister","Loged","burgerMenu","closeMenuBtn","ProtectedRoute","props","SpinnerContext","Spinner","PopupWithForm","buttonText","children","isOpen","onClose","submitButtonValidation","spinner","noValidate","EditProfilePopup","onUpdateUser","loading","resetForms","useState","userName","setUserName","userDescription","setUserDescription","userNameError","setUserNameError","userDescriptionError","setUserDescriptionError","userInfoDirty","setUserInfoDirty","setValidForm","EditAvatarPopup","onUpdateAvatar","avatarLink","setAvatarLink","avatarLinkError","setAvatarLinkError","avatarLinkDirty","setAvatarLinkDirty","test","AddPlacePopup","setName","setLink","placeNameError","setPlaceNameError","placeLinkError","setPlaceLinkError","placeInfoDirty","setPlaceInfoDirty","ImagePopup","card","MessagePopup","messageIcon","doneIcon","errorIcon","style","width","height","margin","textAlign","LoadingMessage","InfoTooltip","isDone","messageText","api","url","this","_BASE_URL","res","ok","json","Promise","reject","status","token","fetch","method","headers","_headerHeandler","then","_checkResponse","body","JSON","stringify","data","auth","register","authorize","getContent","App","history","useHistory","setCurrentUser","setLoggedIn","setUserEmail","setVisibleHeaderMenu","setHeaderMenuBurger","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isMessagePopup","setIsMessagePopup","isLoadingMessage","setIsLoadingMessage","isInfoTooltip","setIsInfoTooltip","isInfoTooltipStatus","setIsInfoTooltipIcon","setLoading","setMessageText","setMessageIcon","setResetForms","selectedCard","setSelectedCard","setCards","setCardsError","setEmail","setPassword","setEmailError","setPasswordError","setAuthDirty","localStorage","getItem","jwt","push","catch","errorMessage","console","log","getUserInfo","error","getInitialCards","reverse","resetAuthForms","handleMessagePopup","message","setTimeout","closeAllPopups","Provider","removeItem","path","setItem","exact","selectedСardLikes","selectedСardID","otherUsers","changeLike","allCards","deleteCard","postDeleted","filter","setUserAvatar","setUserInfo","newPlaceData","setNewCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d08a907f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Logo.css';\r\n\r\nconst Logo =()=> {\r\n  return (\r\n    <div className=\"header__logo\"></div>\r\n  )\r\n}\r\n\r\nexport default Logo;","import React from 'react';\r\n\r\nimport './MyProfile.css';\r\n\r\n\r\nconst MyProfile =({userEmail, signOut})=> {\r\n\r\n  return (\r\n    <div className=\"my-profile\">\r\n      <p className=\"my-profile__email\">{userEmail}</p>\r\n      <button onClick={signOut} className=\"my-profile__out-btn\">Выйти</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyProfile;","import React from 'react';\r\n\r\nimport MyProfile from '../MyProfile/MyProfile';\r\n\r\nimport './UserProfile.css';\r\n\r\n\r\nconst UserProfile =({loggedIn, userEmail, signOut})=> {\r\n  return (\r\n    <div className=\"user__profile\">\r\n      {loggedIn ? <MyProfile userEmail={userEmail} signOut={signOut} /> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserProfile;","import React from 'react';\r\n\r\nimport './BurgerMenu.css';\r\n\r\nconst BurgerMenu =({component: Component, loggedIn, changeHeaderMenu, headerMenuBurger })=> {\r\n  return (\r\n    <div className=\"header__burger-menu\">\r\n      {loggedIn ? (<Component\r\n                    changeHeaderMenu={changeHeaderMenu}\r\n                    headerMenuBurger={headerMenuBurger} />) : null }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BurgerMenu;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './AuthButton.css';\r\n\r\nconst AuthButton =({loginPage, handleChangeLoginPage})=> {\r\n  return (\r\n    <Link\r\n      to={loginPage ? '/signup' : '/signin'}\r\n      onClick={handleChangeLoginPage}\r\n      className=\"auth-button\">\r\n        {loginPage ? 'Регистрация' : 'Войти'}\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default AuthButton;","import React from 'react';\r\n\r\nimport Logo from '../Logo/Logo';\r\nimport UserProfile from '../UserProfile/UserProfile';\r\nimport BurgerMenu from '../BurgerMenu/BurgerMenu';\r\nimport MyProfile from '../MyProfile/MyProfile';\r\nimport AuthButton from '../AuthButton/AuthButton';\r\n\r\nimport './header.css';\r\n\r\n\r\nfunction Header({\r\n  component: Component,\r\n  userEmail,\r\n  loggedIn,\r\n  visibleHeaderMenu,\r\n  signOut,\r\n  changeHeaderMenu,\r\n  headerMenuBurger,\r\n  loginPage,\r\n  handleChangeLoginPage\r\n}) {\r\n\r\n  return (\r\n    <>\r\n      {(loggedIn && visibleHeaderMenu) ? <MyProfile userEmail={userEmail} signOut={signOut} /> : null}\r\n      <div className=\"header page__header\">\r\n\r\n        <Logo />\r\n        \r\n        <UserProfile loggedIn={loggedIn} userEmail={userEmail} signOut={signOut} />\r\n\r\n        {loggedIn ? (<BurgerMenu\r\n                      component={Component}\r\n                      loggedIn={loggedIn}\r\n                      changeHeaderMenu={changeHeaderMenu}\r\n                      headerMenuBurger={headerMenuBurger} />) : null}\r\n\r\n        {!loggedIn ? <AuthButton loginPage={loginPage} handleChangeLoginPage={handleChangeLoginPage} /> : null}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({cardValues, onCardClick, onCardLike, onCardDelete}) {\r\n  const {name, link, likes, owner, _id} = cardValues;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = owner === currentUser._id;\r\n  const cardDeleteButtonClassName = `element__deleted ${isOwn ? 'element__deleted_active' : ''}`;\r\n\r\n  const isLiked = likes.some(other => other === currentUser._id);\r\n  const cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_active' : ''}`; \r\n\r\n  const handleClick =()=> {\r\n    onCardClick(name, link);\r\n  }\r\n\r\n  const handleLikeClick =()=> {\r\n    onCardLike(likes, _id);\r\n  }\r\n\r\n  const handleDeleteClick =()=> {\r\n    onCardDelete(_id);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <img\r\n        src={link}\r\n        alt={name}\r\n        onError={(e)=> e.target.src = 'https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png'}\r\n        className=\"element__image\"\r\n        onClick={handleClick} />\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Кнопка удаления карточки\"\r\n        title=\"Удалить\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}>\r\n      </button>\r\n      <div className=\"element__description-wrapper\">\r\n        <h2 className=\"element__title\">{name}</h2>\r\n        <div className=\"element__of-wrapper-likes\">\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Кнопка с отметкой - нравится\"\r\n            title=\"Нравится\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}>\r\n          </button>\r\n          <p className=\"element__of-number-likes\">{likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nimport Card from './Card';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  cards,\r\n  cardsError,\r\n  onCardLike,\r\n  onCardDelete\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const {name, about, avatar} = currentUser;\r\n\r\n  return (\r\n    <div className=\"content page__content\">\r\n      <section className=\"profile content__profile\">\r\n        <div className=\"profile__wrapper\">\r\n          <div className=\"profile__avatar-wrapper\">\r\n            <img\r\n              src={avatar}\r\n              onError={(e)=> e.target.src = 'https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png'}\r\n              alt=\"Аватар\"\r\n              className=\"profile__avatar\" />\r\n            <div\r\n              className=\"profile__edit-avatar\"\r\n              onClick={onEditAvatar}>\r\n            </div>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__title\">{name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              aria-label=\"Кнопка - редактировать профиль\"\r\n              onClick={onEditProfile}\r\n            ></button>\r\n            <p className=\"profile__subtitile\">{about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          aria-label=\"Кнопка - добавить карточку с изображением места\"\r\n          onClick={onAddPlace}>\r\n        </button>\r\n      </section>\r\n      <section\r\n        className=\"elements content__elements\"\r\n        aria-label=\"Карточки, с фотографиями мест\" >\r\n          {cardsError || cards.map(values =>\r\n            (<Card\r\n              key={values._id}\r\n              cardValues={values}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete} />)\r\n          )}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Карен Гаспарян</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nimport './authForm.css';\r\n\r\n\r\nconst AuthForm =(\r\n  {authData: {\r\n    email,\r\n    password,\r\n    emailError,\r\n    passwordError,\r\n    authDirty,\r\n    validForm,\r\n    handleChangeEmail,\r\n    handleChangePassword,\r\n    blurHandler,\r\n  },\r\n    submitButtonText,\r\n    onSubmit,\r\n    name\r\n  })=> {\r\n\r\n  return (\r\n    <form\r\n      name={name}\r\n      className=\"auth__form\"\r\n      onSubmit={onSubmit} >\r\n      <div className=\"auth__inputs-wrapper\">\r\n        <div className=\"auth__input-wrapper\">\r\n          <input \r\n            className=\"auth__input-text auth__input-text_type_email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            required\r\n            minLength=\"6\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Email\"\r\n            onBlur={blurHandler}\r\n            value={email}\r\n            onChange={handleChangeEmail} />\r\n          {(authDirty && emailError) && <span id=\"email-error\" className=\"error\">{emailError}</span> }\r\n        </div>\r\n        <div className=\"auth__input-wrapper\">\r\n          <input \r\n            className=\"auth__input-text auth__input-text_type_password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            required\r\n            minLength=\"8\"\r\n            maxLength=\"50\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Пароль\"\r\n            onBlur={blurHandler}\r\n            value={password}\r\n            onChange={handleChangePassword} />\r\n          {(authDirty && passwordError) && <span id=\"password-error\" className=\"error\">{passwordError}</span> }\r\n        </div>\r\n      </div>\r\n      <button\r\n        type=\"submit\"\r\n        className={`auth__register-btn ${!validForm ? 'auth__register-btn_invalid' : '' }`}\r\n        disabled={!validForm}\r\n      >{submitButtonText}\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AuthForm;","import React, {useEffect} from 'react';\r\n\r\nimport AuthForm from '../AuthForm/AuthForm';\r\n\r\nimport './login.css';\r\n\r\n\r\nconst Login =(\r\n  { authData,\r\n    handleSubmitLogin,\r\n    setLoginPage\r\n  })=> {\r\n\r\n  useEffect(()=> {\r\n    setLoginPage(true);\r\n  })\r\n\r\n  const handleSubmit =(e)=> {\r\n    e.preventDefault();\r\n\r\n    handleSubmitLogin();\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Вход</h2>\r\n        <AuthForm\r\n          authData={authData}\r\n          onSubmit={handleSubmit}\r\n          name={'authorize'}\r\n          submitButtonText={'Войти'} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nimport AuthForm from '../AuthForm/AuthForm';\r\n\r\nimport './register.css';\r\n\r\n\r\nconst Register =(\r\n  { authData,\r\n    handleSubmitRegister\r\n  })=> {\r\n\r\n  const handleSubmit =(e)=> {\r\n    e.preventDefault();\r\n\r\n    handleSubmitRegister();\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <h2 className=\"register__title\">Регистрация</h2>\r\n        <AuthForm\r\n          authData={authData}\r\n          onSubmit={handleSubmit}\r\n          name={'register'}\r\n          submitButtonText={'Зарегистрироваться'} />\r\n      <p className=\"register__text-question\">Уже зарегистрированы? Войти</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/burger-menu.ccf70202.svg\";","export default __webpack_public_path__ + \"static/media/close-menu-Icon.ba016e89.svg\";","import React from 'react';\r\n\r\nimport burgerMenu from '../../images/burger-menu.svg';\r\nimport closeMenuBtn from '../../images/close-menu-Icon.svg';\r\n\r\nimport './loged.css';\r\n\r\n\r\nconst Loged =({changeHeaderMenu, headerMenuBurger})=> {\r\n\r\n  return (\r\n    <button\r\n      className=\"loged__switch-button\"\r\n      onClick={changeHeaderMenu} >\r\n      <img\r\n        src={headerMenuBurger ? burgerMenu : closeMenuBtn}\r\n        alt={headerMenuBurger ? 'Раскрыть меню' : 'Свернуть меню'} />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default Loged;","import React from 'react';\r\n\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nconst SpinnerContext = React.createContext();\r\n\r\nexport default SpinnerContext;","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\n\r\nconst Spinner =()=> {\r\n  return (\r\n    <div className=\"loadingio-spinner-spin-fnepk7fl33h\">\r\n      <div className=\"ldio-gqe9nbj4c1\">\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nimport SpinnerContext from '../contexts/SpinnerContext';\r\nimport Spinner from './spinner/Spinner';\r\n\r\n\r\nfunction PopupWithForm({\r\n  title,\r\n  name,\r\n  buttonText, \r\n  children,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  submitButtonValidation\r\n}) {\r\n  const spinner = React.useContext(SpinnerContext);\r\n\r\n  return(\r\n    <div className={`pop-up pop-up_${name} ${isOpen ? 'pop-up_opened' : ''}`}>\r\n        <div className=\"pop-up__container\">\r\n          <form\r\n            className=\"pop-up__form\"\r\n            name={name}\r\n            onSubmit={onSubmit}\r\n            noValidate>\r\n            <h2 className=\"pop-up__title\">{title}</h2>\r\n            {children}\r\n            <button\r\n              type=\"submit\"\r\n              aria-label=\"Кнопка отправки формы\"\r\n              className={`pop-up__save-btn ${!submitButtonValidation ? 'pop-up__save-btn_invalid' : '' }`}\r\n              disabled={!submitButtonValidation} >\r\n              {buttonText}\r\n              {spinner ? <Spinner /> : null}\r\n            </button>\r\n          </form>\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Кнопка закрытия модального окна\"\r\n            title=\"Закрыть\"\r\n            className=\"pop-up__close-btn\"\r\n            onClick={onClose}\r\n          >\r\n          </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React, {useState, useEffect} from 'react';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditProfilePopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateUser,\r\n  loading,\r\n  resetForms\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [userName, setUserName] = useState('');\r\n  const [userDescription, setUserDescription] = useState('');\r\n  \r\n  const [userNameError, setUserNameError] = useState('');\r\n  const [userDescriptionError, setUserDescriptionError] = useState('');\r\n\r\n  const [userInfoDirty, setUserInfoDirty] = useState(false);\r\n  const [validForm, setValidForm] = useState(false);\r\n\r\n\r\n  useEffect(()=> {\r\n    setUserName(currentUser.name);\r\n    setUserDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n\r\n  useEffect(()=> {\r\n    if(!userName || !userDescription || userNameError || userDescriptionError) {\r\n      setValidForm(false);\r\n    } else {\r\n      setValidForm(true);\r\n    }\r\n  }, [userName, userDescription, userNameError, userDescriptionError])\r\n\r\n\r\n  useEffect(()=> {\r\n    if(resetForms) {\r\n      setUserNameError('');\r\n      setUserDescriptionError('');\r\n      setUserInfoDirty(false);\r\n      setValidForm(false);\r\n    }\r\n  }, [resetForms])\r\n\r\n\r\n  function handleChangeName(e) {\r\n    setUserName(e.target.value);\r\n\r\n    if(e.target.value.length < 2 || e.target.value.length >= 20) {\r\n      setUserNameError('Имя не может содержать менее 2 и более 20 символов');\r\n      setUserInfoDirty(true);\r\n    } else {\r\n      setUserNameError('');\r\n    }\r\n  };\r\n\r\n\r\n  function handleChangeDescription(e) {\r\n    setUserDescription(e.target.value);\r\n\r\n    if(e.target.value.length < 2 || e.target.value.length >= 200) {\r\n      setUserDescriptionError('Поле не может содержать менее 2 и более 200 символов');\r\n      setUserInfoDirty(true);\r\n    } else {\r\n      setUserDescriptionError('');\r\n    }\r\n  };\r\n\r\n  \r\n  function blurHandler(e) {\r\n    if (!e.target.value && e.target.name === 'userName') {\r\n      setUserNameError('Поле не может быть пустым');\r\n    } else if (!e.target.value && e.target.name === 'userAbout') {\r\n      setUserDescriptionError('Поле не может быть пустым');\r\n    }\r\n  };\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      userName,\r\n      about: userDescription,\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={'Редактировать профиль'}\r\n      name={'edit'}\r\n      buttonText={loading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitButtonValidation={validForm} >\r\n        <div className=\"pop-up__input-wrapper\">\r\n          <input\r\n            name=\"userName\"\r\n            value={userName || ''}\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"20\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Введите ваше имя\"\r\n            type=\"text\"\r\n            className=\"pop-up__input-text pop-up__input-text_type_name\"\r\n            id=\"userName\"\r\n            onChange={handleChangeName}\r\n            onBlur={blurHandler} />\r\n          {(userInfoDirty && userNameError) && <span id=\"userName-error\" className=\"error\">{userNameError}</span> }\r\n        </div>\r\n        <div className=\"pop-up__input-wrapper\">\r\n          <input\r\n            name=\"userAbout\"\r\n            value={userDescription || ''}\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Введите вашу специальность\"\r\n            type=\"text\"\r\n            className=\"pop-up__input-text pop-up__input-text_type_about\"\r\n            id=\"userAbout\"\r\n            onChange={handleChangeDescription}\r\n            onBlur={blurHandler} />\r\n          {(userInfoDirty && userDescriptionError) && <span id=\"userAbout-error\" className=\"error\">{userDescriptionError}</span> }\r\n        </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;","import React, { useState, useEffect } from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateAvatar,\r\n  loading,\r\n  resetForms\r\n}) {\r\n  const [avatarLink, setAvatarLink] = useState('');\r\n  const [avatarLinkError, setAvatarLinkError] = useState('');\r\n  const [avatarLinkDirty, setAvatarLinkDirty] = useState(false);\r\n  const [validForm, setValidForm] = useState(false);\r\n\r\n  \r\n  useEffect(()=> {\r\n    if(resetForms) {\r\n      setAvatarLink('');\r\n      setAvatarLinkError('');\r\n      setAvatarLinkDirty(false);\r\n      setValidForm(false);\r\n    }\r\n  }, [resetForms])\r\n\r\n\r\n  useEffect(()=> {\r\n    if(!avatarLink || avatarLinkError) {\r\n      setValidForm(false);\r\n    } else {\r\n      setValidForm(true);\r\n    }\r\n  }, [avatarLink, avatarLinkError])\r\n\r\n\r\n  function handleChangeLinkInputValue(e) {\r\n    setAvatarLink(e.target.value);\r\n\r\n    const valid = /^(ftp|http|https):\\/\\/[^ \"]+$/.test(e.target.value);\r\n\r\n    if(!valid) {\r\n      setAvatarLinkError('Введите URL');\r\n      setAvatarLinkDirty(true);\r\n    } else {\r\n      setAvatarLinkError('');\r\n      setAvatarLinkDirty(false);\r\n      setValidForm(true);\r\n    }\r\n  };\r\n\r\n\r\n  function blurHandler(e) {\r\n    if (!e.target.value) {\r\n      setAvatarLinkError('Поле не может быть пустым');\r\n    }\r\n  };\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(avatarLink);\r\n\r\n    setAvatarLink('');\r\n  };\r\n\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={'Обновить аватар'}\r\n      name={'change-avatar'}\r\n      buttonText={loading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitButtonValidation={validForm} >\r\n        <div className=\"pop-up__input-wrapper\">\r\n          <input\r\n            name=\"linkToAvatar\"\r\n            required\r\n            autoComplete=\"off\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            type=\"url\"\r\n            className=\"pop-up__input-text pop-up__input-text_type_link\"\r\n            id=\"linkToAvatar\"\r\n            value={avatarLink}\r\n            onChange={handleChangeLinkInputValue}\r\n            onBlur={blurHandler}\r\n          />\r\n          {(avatarLinkDirty && avatarLinkError) && <span id=\"linkToAvatar-error\" className=\"error\">{avatarLinkError}</span> }\r\n        </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;","import React, { useState, useEffect } from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup({\r\n  isOpen,\r\n  onClose,\r\n  onAddPlace,\r\n  loading,\r\n  resetForms\r\n}) {\r\n  \r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  const [placeNameError, setPlaceNameError] = useState('');\r\n  const [placeLinkError, setPlaceLinkError] = useState('');\r\n\r\n  const [placeInfoDirty, setPlaceInfoDirty] = useState(false);\r\n  const [validForm, setValidForm] = useState(false);\r\n\r\n\r\n  useEffect(()=> {\r\n    if(!name || !link || placeNameError || placeLinkError) {\r\n      setValidForm(false);\r\n    } else {\r\n      setValidForm(true);\r\n    }\r\n  }, [name, link, placeNameError, placeLinkError])\r\n\r\n\r\n  useEffect(()=> {\r\n    if(resetForms) {\r\n      setName('');\r\n      setLink('');\r\n      setPlaceNameError('');\r\n      setPlaceLinkError('');\r\n      setPlaceInfoDirty(false);\r\n      setValidForm(false);\r\n    }\r\n  }, [resetForms])\r\n\r\n\r\n  function handleChangePlaceTitle(e) {\r\n    setName(e.target.value);\r\n\r\n    if(e.target.value.length < 2 || e.target.value.length >= 30) {\r\n      setPlaceNameError('Название не может содержать менее 2 и более 30 символов');\r\n      setPlaceInfoDirty(true);\r\n    } else {\r\n      setPlaceNameError('');\r\n    }\r\n  };\r\n\r\n\r\n  function handleChangePlaceLink(e) {\r\n    setLink(e.target.value);\r\n\r\n    const valid = /^(ftp|http|https):\\/\\/[^ \"]+$/.test(e.target.value);\r\n\r\n    if(!valid) {\r\n      setPlaceLinkError('Введите URL');\r\n      setPlaceInfoDirty(true);\r\n    } else {\r\n      setPlaceLinkError('');\r\n      setPlaceInfoDirty(false);\r\n      setValidForm(true);\r\n    }\r\n  };\r\n\r\n\r\n  function blurHandler(e) {\r\n    if (!e.target.value && e.target.name === 'placeTitle') {\r\n      setPlaceNameError('Поле не может быть пустым');\r\n    } else if (!e.target.value && e.target.name === 'placeLink') {\r\n      setPlaceLinkError('Поле не может быть пустым');\r\n    }\r\n  };\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({name, link});\r\n    setName('');\r\n    setLink('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={'Новое место'}\r\n      name={'img'}\r\n      buttonText={loading ? 'Создается...' : 'Создать'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitButtonValidation={validForm} >\r\n        <div className=\"pop-up__input-wrapper\">\r\n          <input\r\n            name=\"placeTitle\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Название\"\r\n            type=\"text\"\r\n            className=\"pop-up__input-text pop-up__input-text_type_title\"\r\n            id=\"placeName\"\r\n            value={name}\r\n            onChange={handleChangePlaceTitle}\r\n            onBlur={blurHandler}\r\n          />\r\n          {(placeInfoDirty && placeNameError) && <span id=\"placeName-error\" className=\"error\">{placeNameError}</span> }\r\n        </div>\r\n        <div className=\"pop-up__input-wrapper\">\r\n          <input\r\n            name=\"placeLink\"\r\n            required\r\n            autoComplete=\"off\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            type=\"url\"\r\n            className=\"pop-up__input-text pop-up__input-text_type_link\"\r\n            id=\"linkToImage\"\r\n            value={link}\r\n            onChange={handleChangePlaceLink}\r\n            onBlur={blurHandler}\r\n          />\r\n          {(placeInfoDirty && placeLinkError) && <span id=\"linkToImage-error\" className=\"error\">{placeLinkError}</span> }\r\n        </div>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction ImagePopup({card: {isOpen, name, link}, onClose}) {\r\n\r\n  return (\r\n    <div className={`pop-up pop-up_fullscreen ${isOpen ? 'pop-up_opened' : ''}`}>\r\n      <div className=\"pop-up__container-fullscreen\">\r\n        <img\r\n          src={link}\r\n          alt=\"Карточка места\"\r\n          className=\"pop-up__image-fullscreen\"\r\n        />\r\n        <p className=\"pop-up__captiion-fullscreen\">{name}</p>\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Кнопка закрытия модального окна\"\r\n          title=\"Закрыть\"\r\n          className=\"pop-up__close-btn\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","export default __webpack_public_path__ + \"static/media/infoTooltip-done.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/infoTooltip-error.d0f413bf.svg\";","import React from 'react';\r\n\r\nimport doneIcon from '../images/infoTooltip-done.svg';\r\nimport errorIcon from '../images/infoTooltip-error.svg';\r\n\r\nfunction MessagePopup({title, isOpen, messageIcon}) {\r\n\r\n  return (\r\n    <div className={`pop-up ${isOpen ? 'pop-up_opened' : ''}`}>\r\n        <div className=\"pop-up__container\">\r\n        <img\r\n          src={messageIcon ? doneIcon : errorIcon}\r\n          alt={messageIcon ? 'Успешно' : 'Ошибка'}\r\n          style={{width: '50px', height: '50px', margin: '0 auto 15px'}} />\r\n          <h2\r\n            className=\"pop-up__title\"\r\n            style={{margin: '0', textAlign: 'center'}} >\r\n            {title}\r\n          </h2>\r\n      </div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default MessagePopup;","import React from 'react';\r\n\r\nimport './LoadingMessage.css';\r\n\r\n\r\nconst LoadingMessage =({isOpen})=> {\r\n\r\n  return (\r\n    <div className={`pop-up ${isOpen ? 'pop-up_opened' : ''}`}>\r\n        <div className=\"pop-up__container\">\r\n          <div className=\"loadingio-spinner-spin-0nakerftw6lh LoadingMessage-spinner\">\r\n            <div className=\"ldio-j4d19yj87y\">\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n              <div><div></div></div>\r\n            </div>\r\n          </div>\r\n          <h2 className=\"pop-up__title LoadingMessage-title\">Загрузка...</h2>\r\n      </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default LoadingMessage;","import React from 'react';\r\n\r\nimport './infoTooltip.css';\r\nimport doneIcon from '../../images/infoTooltip-done.svg';\r\nimport errorIcon from '../../images/infoTooltip-error.svg';\r\n\r\nconst InfoTooltip =({isOpen, onClose, isDone, messageText})=> {\r\n\r\n  return (\r\n    <div className={`pop-up ${isOpen ? 'pop-up_opened' : ''}`}>\r\n        <div className=\"pop-up__container\">\r\n          <img\r\n            src={isDone ? doneIcon : errorIcon}\r\n            alt={isDone ? 'Успешно' : 'Ошибка'} \r\n            className=\"infoTooltip-icon\" />\r\n\r\n          <h2 className=\"pop-up__title infoTooltip-title\" >{messageText}</h2>\r\n\r\n          <button\r\n            type=\"button\"\r\n            aria-label=\"Кнопка закрытия модального окна\"\r\n            title=\"Закрыть\"\r\n            className=\"pop-up__close-btn infoTooltip-button\"\r\n            onClick={onClose} >\r\n          </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","class Api {\r\n  constructor(url) {\r\n    this._BASE_URL = url;\r\n  };\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n  };\r\n\r\n  _headerHeandler(token) {\r\n    return {\r\n      \"Authorization\" : `Bearer ${token}`,\r\n      \"Content-Type\": \"application/json; charset=UTF-8\"\r\n    };\r\n  }\r\n\r\n  /* GET */\r\n  getInitialCards(token) {\r\n    return fetch(`${this._BASE_URL}cards`, {\r\n      method: 'GET',\r\n      headers: this._headerHeandler(token)\r\n    })\r\n    .then(this._checkResponse)\r\n  };\r\n\r\n  getUserInfo(token) {\r\n    return fetch(`${this._BASE_URL}users/me`, {\r\n      method: 'GET',\r\n      headers: this._headerHeandler(token)\r\n    })\r\n    .then(this._checkResponse)\r\n  };\r\n  /* /GET */\r\n\r\n  /* SET */\r\n  setUserAvatar(token, link) {\r\n    return fetch(`${this._BASE_URL}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headerHeandler(token),\r\n      body: JSON.stringify({ avatar: link })\r\n    })\r\n    .then(this._checkResponse)\r\n  };\r\n\r\n  setUserInfo(token, name, about) {\r\n    return fetch(`${this._BASE_URL}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headerHeandler(token),\r\n      body: JSON.stringify({ name, about })\r\n    })\r\n    .then(this._checkResponse)\r\n  };\r\n\r\n  setNewCard(token, data) {\r\n    return fetch(`${this._BASE_URL}cards`, {\r\n      method: 'POST',\r\n      headers: this._headerHeandler(token),\r\n      body: JSON.stringify(data)\r\n    })\r\n    .then(this._checkResponse)\r\n  };\r\n\r\n  deleteCard(token, id) {\r\n    return fetch(`${this._BASE_URL}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headerHeandler(token),\r\n      body: JSON.stringify({ _id: id })\r\n    })\r\n    .then(this._checkResponse)\r\n  };\r\n\r\n  changeLike(token, id, isLiked) {\r\n    if(isLiked) {\r\n      return fetch(`${this._BASE_URL}cards/${id}/likes`, {\r\n      method: 'PUT',\r\n      headers: this._headerHeandler(token)\r\n    })\r\n      .then(this._checkResponse)\r\n    } else {\r\n        return fetch(`${this._BASE_URL}cards/${id}/likes`, {\r\n          method: 'DELETE',\r\n          headers: this._headerHeandler(token)\r\n        })\r\n          .then(this._checkResponse)\r\n    }\r\n  }\r\n  /* /SET */\r\n};\r\n\r\nconst api = new Api('http://194.67.109.173/'); // http://localhost:5000/\r\n\r\nexport default api;","class Auth {\r\n  constructor(url) {\r\n    this._BASE_URL = url;\r\n  }\r\n\r\n  register =(email, password)=> {\r\n    return fetch(`${this._BASE_URL}signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({email, password})\r\n    })\r\n    .then(res => {\r\n      if (res.status === 400) {\r\n        return Promise.reject('Некорректно заполнено одно из полей');\r\n      } else if (res.status === 409) {\r\n        return Promise.reject('Пользователь с таким email уже зарегистрирован');\r\n      } else {\r\n        return res.json()\r\n      }\r\n    })\r\n  }\r\n\r\n  authorize =(email, password)=> {\r\n    return fetch(`${this._BASE_URL}signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({email, password})\r\n    })\r\n    .then(res => {\r\n      if (res.status === 400) {\r\n        return Promise.reject('Некорректно заполнено одно из полей');\r\n      } else if (res.status === 401) {\r\n        return Promise.reject('Неправильные почта или пароль');\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n  }\r\n\r\n  getContent =(token)=> {\r\n    return fetch(`${this._BASE_URL}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\" : `Bearer ${token}`\r\n      }\r\n    })\r\n    .then(res => {\r\n      if(res.status === 400) {\r\n        return Promise.reject('Токен не передан или передан не в том формате');\r\n      } else if(res.status === 401) {\r\n        return Promise.reject('Переданный токен некорректен');\r\n      } else {\r\n        return res.json();\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst auth = new Auth('http://194.67.109.173/'); // http://localhost:5000/\r\n\r\nexport default auth;","import React, {useState, useEffect} from 'react';\r\nimport {Redirect, Route, Switch, useHistory} from 'react-router-dom';\r\n\r\nimport Header from './Header/Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\n\r\nimport Login from './Login/Login';\r\nimport Register from './Register/Register';\r\nimport Loged from './Loged/Loged';\r\nimport ProtectedRoute from './ProtectedRoute';\r\n\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport MessagePopup from './MessagePopup';\r\nimport LoadingMessage from './LoadingMessage/LoadingMessage';\r\nimport InfoTooltip from './InfoTooltip/InfoTooltip';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport SpinnerContext from '../contexts/SpinnerContext';\r\n\r\nimport api from '../utils/api';\r\nimport auth from '../utils/auth';\r\n\r\n\r\nfunction App() {\r\n  /* States */\r\n  const history = useHistory();\r\n\r\n  // User info\r\n  const [currentUser, setCurrentUser ] = useState({});\r\n  const [loggedIn, setLoggedIn] = useState(false)\r\n  const [userEmail, setUserEmail] = useState(null);\r\n\r\n  // Header Menu\r\n  const [visibleHeaderMenu, setVisibleHeaderMenu] = useState(false);\r\n  const [headerMenuBurger, setHeaderMenuBurger] = useState(true);\r\n\r\n  // Popups\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isMessagePopup, setIsMessagePopup] = useState(false);\r\n  const [isLoadingMessage, setIsLoadingMessage] = useState(false);\r\n  const [isInfoTooltip, setIsInfoTooltip] = useState(false);\r\n  const [isInfoTooltipStatus, setIsInfoTooltipIcon] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [messageText, setMessageText] = useState('');\r\n  const [messageIcon, setMessageIcon] = useState(null);\r\n  const [resetForms, setResetForms] = useState(false);\r\n\r\n  // Cards\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [cardsError, setCardsError] = useState(null);\r\n\r\n  // Auth\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loginPage, setLoginPage] = useState(false);\r\n  \r\n  // validation\r\n  const [emailError, setEmailError] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [authDirty, setAuthDirty] = useState(false);\r\n  const [validForm, setValidForm] = useState(false);\r\n  /* /States */\r\n\r\n\r\n  /* useEffect's */\r\n  // validation\r\n  useEffect(()=> {\r\n    if (!email || !password || emailError || passwordError) {\r\n      setValidForm(false);\r\n    } else {\r\n      setValidForm(true);\r\n    }\r\n  }, [email, password, emailError, passwordError])\r\n\r\n  // token verification\r\n  useEffect(()=> {\r\n    if(localStorage.getItem('jwt')) {\r\n      const jwt = localStorage.getItem('jwt');\r\n\r\n      auth.getContent(jwt)\r\n        .then(({data}) => {\r\n          setUserEmail(data.email);\r\n          setLoggedIn(true);\r\n          history.push('/');\r\n        })\r\n        .catch(errorMessage => console.log(errorMessage));\r\n    }\r\n  }, [history]);\r\n\r\n  // get user info\r\n  useEffect(()=> {\r\n    if(localStorage.getItem('jwt')) {\r\n      const token = localStorage.getItem('jwt');\r\n\r\n      api.getUserInfo(token)\r\n        .then(({ data }) => setCurrentUser(data))\r\n        .catch(error => {\r\n          setCurrentUser({\r\n            name: error,\r\n            about: 'Something went wrong',\r\n            avatar: 'https://www.wpfixit.com/wp-content/uploads/2019/03/HTTP-error-when-uploading-images-in-WordPress.jpg'\r\n          })\r\n        });\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  // initial cards\r\n  useEffect(()=> {\r\n    if(localStorage.getItem('jwt')) {\r\n    const token = localStorage.getItem('jwt');\r\n\r\n    api.getInitialCards(token)\r\n    .then(({ data }) => setCards(data.reverse()))\r\n    .catch(error => setCardsError(`${error} - Something went wrong`));\r\n    }\r\n  }, [loggedIn]);\r\n  /* useEffect's */\r\n\r\n\r\n  /* Auth */\r\n  const authData = {\r\n    email,\r\n    password,\r\n    emailError,\r\n    passwordError,\r\n    authDirty,\r\n    validForm,\r\n    handleChangeEmail,\r\n    handleChangePassword,\r\n    blurHandler\r\n  };\r\n\r\n  function handleSubmitLogin() {\r\n    setIsLoadingMessage(true);\r\n\r\n    auth.authorize(email, password)\r\n    .then(({token}) => {\r\n      if(token) {\r\n        localStorage.setItem('jwt', token);\r\n        setUserEmail(email);\r\n        setIsLoadingMessage(false);\r\n        setLoggedIn(true);\r\n        history.push('/');\r\n        return token;\r\n      }\r\n    })\r\n    .catch(errorMessage => {\r\n      setIsInfoTooltipIcon(false);\r\n      setIsLoadingMessage(false);\r\n      setIsInfoTooltip(true);\r\n      setMessageText(errorMessage);\r\n    });\r\n  }\r\n\r\n  function handleSubmitRegister() {\r\n    auth.register(email, password)\r\n    .then(({data}) => {\r\n      if(data) {\r\n        setUserEmail(data.email);\r\n        setIsInfoTooltipIcon(true);\r\n        setMessageText('Вы успешно зарегистрировались!');\r\n        setIsInfoTooltip(true);\r\n        resetAuthForms();\r\n        history.push('/signin');\r\n      }\r\n    })\r\n    .catch(res => {\r\n      setIsInfoTooltipIcon(false);\r\n      setMessageText(res);\r\n      setIsInfoTooltip(true);\r\n    });\r\n  };\r\n\r\n  const signOut =()=> {\r\n    localStorage.removeItem('jwt');\r\n    setLoggedIn(false);\r\n    resetAuthForms();\r\n    setUserEmail('');\r\n    history.push('/');\r\n  }\r\n\r\n  const handleChangeLoginPage =()=> {\r\n    setLoginPage(false);\r\n  }\r\n\r\n  const resetAuthForms =()=> {\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n  /* /Auth */\r\n\r\n\r\n  /* validation */\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n\r\n    if((e.target.name === 'email' && e.target.value.length < 6)) {\r\n      setEmailError('Email не должен содержать менее 6 символов');\r\n      setAuthDirty(true);\r\n    } else {\r\n      setEmailError('');\r\n    }\r\n  };\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n\r\n    if((e.target.name === 'password' && e.target.value.length < 8)) {\r\n      setPasswordError('Пароль не должен содержать менее 8 символов');\r\n      setAuthDirty(true);\r\n    } else {\r\n      setPasswordError('');\r\n    }\r\n  }\r\n\r\n  function blurHandler(e) {\r\n    if (!e.target.value && e.target.name === 'email') {\r\n      setEmailError('Поле не может быть пустым');\r\n    } else if (!e.target.value && e.target.name === 'password') {\r\n      setPasswordError('Поле не может быть пустым');\r\n    }\r\n  };\r\n  /* validation */\r\n\r\n\r\n  /* user info */\r\n  function handleUpdateAvatar(link) {\r\n    setLoading(true);\r\n\r\n    if(localStorage.getItem('jwt')) {\r\n\r\n      const token = localStorage.getItem('jwt');\r\n\r\n      api.setUserAvatar(token, link)\r\n        .then(({ data }) => {\r\n          setCurrentUser(data);\r\n          setLoading(false);\r\n          closeAllPopups();\r\n        })\r\n        .catch(error => {\r\n          handleMessagePopup(`Something went wrong - ${error}`);\r\n          setMessageIcon(false);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  function handleUpdateUser({userName, about}) {\r\n    setLoading(true);\r\n\r\n    if(localStorage.getItem('jwt')) {\r\n\r\n      const token = localStorage.getItem('jwt');\r\n\r\n      api.setUserInfo(token, userName, about)\r\n        .then(({ data }) => {\r\n          setCurrentUser(data);\r\n          setLoading(false);\r\n          closeAllPopups();\r\n        })\r\n        .catch(error => {\r\n          handleMessagePopup(`Something went wrong - ${error}`);\r\n          setMessageIcon(false);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n  /* /user info */\r\n\r\n\r\n  /* cards */\r\n  function handleCardLike(selectedСardLikes, selectedСardID) {\r\n    const isLiked = selectedСardLikes.some(otherUsers => otherUsers === currentUser._id);\r\n\r\n    if(localStorage.getItem('jwt')) {\r\n      const token = localStorage.getItem('jwt');\r\n\r\n      api.changeLike(token, selectedСardID, !isLiked)\r\n        .then(({ data }) => {\r\n          setCards(allCards => allCards.map(card => card._id === selectedСardID ? data : card));\r\n          setMessageIcon(true);\r\n      })\r\n      .catch(error => handleMessagePopup(`Something went wrong - ${error}`));\r\n      setMessageIcon(false);\r\n    }\r\n  };\r\n\r\n  function handleCardDelete(selectedСardID) {\r\n    if(localStorage.getItem('jwt')) {\r\n\r\n      const token = localStorage.getItem('jwt');\r\n\r\n        api.deleteCard(token, selectedСardID)\r\n          .then(postDeleted => {\r\n            setCards(allCards => allCards.filter(card => card._id !== selectedСardID));\r\n            if(postDeleted) {\r\n              handleMessagePopup('Пост успешно удален');\r\n              setMessageIcon(true);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            handleMessagePopup(`Something went wrong - ${error}`);\r\n            setMessageIcon(false);\r\n          });\r\n    }\r\n  };\r\n\r\n  function handleAddPlaceSubmit(newPlaceData) {\r\n    setLoading(true);\r\n\r\n    if(localStorage.getItem('jwt')) {\r\n      const token = localStorage.getItem('jwt');\r\n\r\n      api.setNewCard(token, newPlaceData)\r\n        .then(({ data }) => {\r\n          setCards([data, ...cards]);\r\n          setLoading(false);\r\n          closeAllPopups();\r\n        })\r\n        .catch(error => {\r\n          handleMessagePopup(`Something went wrong - ${error}`);\r\n          setMessageIcon(false);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n  /* /cards */\r\n\r\n\r\n  /* popup's */\r\n  const handleEditAvatarClick =()=> {\r\n    setIsEditAvatarPopupOpen(true);\r\n    setResetForms(false);\r\n  };\r\n\r\n  const handleEditProfileClick =()=> {\r\n    setIsEditProfilePopupOpen(true);\r\n    setResetForms(false);\r\n  };\r\n\r\n  const handleAddPlaceClick =()=> {\r\n    setIsAddPlacePopupOpen(true);\r\n    setResetForms(false);\r\n  };\r\n\r\n  const handleMessagePopup =(message)=> {\r\n    setIsMessagePopup(true);\r\n    setMessageText(message);\r\n\r\n    const hideMessage =()=> {\r\n      setIsMessagePopup(false);\r\n    }\r\n\r\n    setTimeout(hideMessage, 1500);\r\n  }\r\n\r\n  const handleCardClick =(name, link)=> {\r\n    setSelectedCard({\r\n      isOpen: true,\r\n      name,\r\n      link\r\n    });\r\n  };\r\n\r\n  const closeAllPopups =()=> {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsInfoTooltip(false);\r\n\r\n    setSelectedCard({});\r\n    setLoading(false);\r\n    setResetForms(true);\r\n    setMessageText('');\r\n  };\r\n  /* /popup's */\r\n\r\n\r\n  /* helpers */\r\n  const changeHeaderMenu =()=> {\r\n    if(!visibleHeaderMenu && headerMenuBurger) {\r\n      setVisibleHeaderMenu(true);\r\n      setHeaderMenuBurger(false);\r\n    } else {\r\n      setVisibleHeaderMenu(false);\r\n      setHeaderMenuBurger(true);\r\n    }\r\n  }\r\n  /* /helpers */\r\n\r\n\r\n  return (\r\n    <SpinnerContext.Provider value={loading} >\r\n      <CurrentUserContext.Provider value={currentUser} >\r\n        <div className=\"body\">\r\n          <div className=\"page\">\r\n\r\n            <Header\r\n              component={Loged}\r\n              userEmail={userEmail}\r\n              loggedIn={loggedIn}\r\n              visibleHeaderMenu={visibleHeaderMenu}\r\n              signOut={signOut}\r\n              changeHeaderMenu={changeHeaderMenu}\r\n              headerMenuBurger={headerMenuBurger}\r\n              loginPage={loginPage}\r\n              handleChangeLoginPage={handleChangeLoginPage} />\r\n\r\n              <Switch>\r\n                <Route path='/signin'>\r\n                  <Login\r\n                    authData={authData}\r\n                    handleSubmitLogin={handleSubmitLogin}\r\n                    setLoginPage={setLoginPage} />\r\n                </Route>\r\n\r\n                <Route path='/signup'>\r\n                  <Register\r\n                    authData={authData}\r\n                    handleSubmitRegister={handleSubmitRegister} />\r\n                </Route>\r\n\r\n                <ProtectedRoute\r\n                  exact\r\n                  path=\"/\"\r\n                  component={Main}\r\n                  loggedIn={loggedIn}\r\n                  onEditAvatar={handleEditAvatarClick}\r\n                  onEditProfile={handleEditProfileClick}\r\n                  onAddPlace={handleAddPlaceClick}\r\n                  onCardClick={handleCardClick} \r\n                  cards={cards}\r\n                  cardsError={cardsError}\r\n                  onCardLike={handleCardLike}\r\n                  onCardDelete={handleCardDelete} />\r\n\r\n                <Route>\r\n                  {loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' />}\r\n                </Route>\r\n              </Switch>\r\n\r\n            <Footer />\r\n\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n              loading={loading}\r\n              resetForms={resetForms} />\r\n            \r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n              loading={loading}\r\n              resetForms={resetForms} /> \r\n\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlaceSubmit}\r\n              loading={loading}\r\n              resetForms={resetForms} />\r\n\r\n            <ImagePopup\r\n              card={selectedCard}\r\n              onClose={closeAllPopups} />\r\n\r\n            <MessagePopup\r\n              messageIcon={messageIcon}\r\n              title={messageText}\r\n              isOpen={isMessagePopup} />\r\n\r\n            <LoadingMessage\r\n              isOpen={isLoadingMessage} />\r\n\r\n            <InfoTooltip\r\n              isOpen={isInfoTooltip}\r\n              onClose={closeAllPopups}\r\n              isDone={isInfoTooltipStatus}\r\n              messageText={messageText} />\r\n            \r\n          </div>\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </SpinnerContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Favicon from 'react-favicon';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport './index.css';\r\nimport App from './components/App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Favicon url='https://img.icons8.com/emoji/48/000000/russia-emoji.png' />\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}