(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(19),i=n.n(s),r=n(20),o=n.n(r),l=n(10),u=(n(32),n(23)),j=n(2),d=n(3),p=(n(33),n(0)),b=function(){return Object(p.jsx)("div",{className:"header__logo"})},h=(n(35),function(e){var t=e.userEmail,n=e.signOut;return Object(p.jsxs)("div",{className:"my-profile",children:[Object(p.jsx)("p",{className:"my-profile__email",children:t}),Object(p.jsx)("button",{onClick:n,className:"my-profile__out-btn",children:"\u0412\u044b\u0439\u0442\u0438"})]})}),m=(n(36),function(e){var t=e.loggedIn,n=e.userEmail,a=e.signOut;return Object(p.jsx)("div",{className:"user__profile",children:t?Object(p.jsx)(h,{userEmail:n,signOut:a}):null})}),O=(n(37),function(e){var t=e.component,n=e.loggedIn,a=e.changeHeaderMenu,c=e.headerMenuBurger;return Object(p.jsx)("div",{className:"header__burger-menu",children:n?Object(p.jsx)(t,{changeHeaderMenu:a,headerMenuBurger:c}):null})}),g=(n(38),function(e){var t=e.loginPage,n=e.handleChangeLoginPage;return Object(p.jsx)(l.b,{to:t?"/signup":"/signin",onClick:n,className:"auth-button",children:t?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u043e\u0439\u0442\u0438"})});n(42);var f=function(e){var t=e.component,n=e.userEmail,a=e.loggedIn,c=e.visibleHeaderMenu,s=e.signOut,i=e.changeHeaderMenu,r=e.headerMenuBurger,o=e.loginPage,l=e.handleChangeLoginPage;return Object(p.jsxs)(p.Fragment,{children:[a&&c?Object(p.jsx)(h,{userEmail:n,signOut:s}):null,Object(p.jsxs)("div",{className:"header page__header",children:[Object(p.jsx)(b,{}),Object(p.jsx)(m,{loggedIn:a,userEmail:n,signOut:s}),a?Object(p.jsx)(O,{component:t,loggedIn:a,changeHeaderMenu:i,headerMenuBurger:r}):null,a?null:Object(p.jsx)(g,{loginPage:o,handleChangeLoginPage:l})]})]})},_=c.a.createContext();var v=function(e){var t=e.cardValues,n=e.onCardClick,a=e.onCardLike,s=e.onCardDelete,i=t.name,r=t.link,o=t.likes,l=t.owner,u=t._id,j=c.a.useContext(_),d=l===j._id,b="element__deleted ".concat(d?"element__deleted_active":""),h=o.some((function(e){return e===j._id})),m="element__like ".concat(h?"element__like_active":"");return Object(p.jsxs)("article",{className:"element",children:[Object(p.jsx)("img",{src:r,alt:i,onError:function(e){return e.target.src="https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png"},className:"element__image",onClick:function(){n(i,r)}}),Object(p.jsx)("button",{type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",className:b,onClick:function(){s(u)}}),Object(p.jsxs)("div",{className:"element__description-wrapper",children:[Object(p.jsx)("h2",{className:"element__title",children:i}),Object(p.jsxs)("div",{className:"element__of-wrapper-likes",children:[Object(p.jsx)("button",{type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0441 \u043e\u0442\u043c\u0435\u0442\u043a\u043e\u0439 - \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",title:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",className:m,onClick:function(){a(o,u)}}),Object(p.jsx)("p",{className:"element__of-number-likes",children:o.length})]})]})]})};var x=function(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,s=e.onCardClick,i=e.cards,r=e.cardsError,o=e.onCardLike,l=e.onCardDelete,u=c.a.useContext(_),j=u.name,d=u.about,b=u.avatar;return Object(p.jsxs)("div",{className:"content page__content",children:[Object(p.jsxs)("section",{className:"profile content__profile",children:[Object(p.jsxs)("div",{className:"profile__wrapper",children:[Object(p.jsxs)("div",{className:"profile__avatar-wrapper",children:[Object(p.jsx)("img",{src:b,onError:function(e){return e.target.src="https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png"},alt:"\u0410\u0432\u0430\u0442\u0430\u0440",className:"profile__avatar"}),Object(p.jsx)("div",{className:"profile__edit-avatar",onClick:t})]}),Object(p.jsxs)("div",{className:"profile__info",children:[Object(p.jsx)("h1",{className:"profile__title",children:j}),Object(p.jsx)("button",{type:"button",className:"profile__edit-button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 - \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",onClick:n}),Object(p.jsx)("p",{className:"profile__subtitile",children:d})]})]}),Object(p.jsx)("button",{type:"button",className:"profile__add-button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 - \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u0441 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c \u043c\u0435\u0441\u0442\u0430",onClick:a})]}),Object(p.jsx)("section",{className:"elements content__elements","aria-label":"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438, \u0441 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f\u043c\u0438 \u043c\u0435\u0441\u0442",children:r||i.map((function(e){return Object(p.jsx)(v,{cardValues:e,onCardClick:s,onCardLike:o,onCardDelete:l},e._id)}))})]})};var N=function(){return Object(p.jsx)("div",{className:"footer page__footer",children:Object(p.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 \u041a\u0430\u0440\u0435\u043d \u0413\u0430\u0441\u043f\u0430\u0440\u044f\u043d"})})},S=(n(43),function(e){var t=e.authData,n=t.email,a=t.password,c=t.emailError,s=t.passwordError,i=t.authDirty,r=t.validForm,o=t.handleChangeEmail,l=t.handleChangePassword,u=t.blurHandler,j=e.submitButtonText,d=e.onSubmit,b=e.name;return Object(p.jsxs)("form",{name:b,className:"auth__form",onSubmit:d,children:[Object(p.jsxs)("div",{className:"auth__inputs-wrapper",children:[Object(p.jsxs)("div",{className:"auth__input-wrapper",children:[Object(p.jsx)("input",{className:"auth__input-text auth__input-text_type_email",type:"email",name:"email",required:!0,minLength:"6",autoComplete:"off",placeholder:"Email",onBlur:u,value:n,onChange:o}),i&&c&&Object(p.jsx)("span",{id:"email-error",className:"error",children:c})]}),Object(p.jsxs)("div",{className:"auth__input-wrapper",children:[Object(p.jsx)("input",{className:"auth__input-text auth__input-text_type_password",type:"password",name:"password",required:!0,minLength:"8",maxLength:"50",autoComplete:"off",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onBlur:u,value:a,onChange:l}),i&&s&&Object(p.jsx)("span",{id:"password-error",className:"error",children:s})]})]}),Object(p.jsx)("button",{type:"submit",className:"auth__register-btn ".concat(r?"":"auth__register-btn_invalid"),disabled:!r,children:j})]})}),C=(n(44),function(e){var t=e.authData,n=e.handleSubmitLogin,c=e.setLoginPage;Object(a.useEffect)((function(){c(!0)}));return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)("h2",{className:"login__title",children:"\u0412\u0445\u043e\u0434"}),Object(p.jsx)(S,{authData:t,onSubmit:function(e){e.preventDefault(),n()},name:"authorize",submitButtonText:"\u0412\u043e\u0439\u0442\u0438"})]})}),w=(n(45),function(e){var t=e.authData,n=e.handleSubmitRegister;return Object(p.jsxs)("div",{className:"register",children:[Object(p.jsx)("h2",{className:"register__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(p.jsx)(S,{authData:t,onSubmit:function(e){e.preventDefault(),n()},name:"register",submitButtonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(p.jsx)("p",{className:"register__text-question",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})}),k=n.p+"static/media/burger-menu.ccf70202.svg",y=n.p+"static/media/close-menu-Icon.ba016e89.svg",E=(n(46),function(e){var t=e.changeHeaderMenu,n=e.headerMenuBurger;return Object(p.jsx)("button",{className:"loged__switch-button",onClick:t,children:Object(p.jsx)("img",{src:n?k:y,alt:n?"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043c\u0435\u043d\u044e"})})}),L=n(24),T=n(25),I=function(e){var t=e.component,n=Object(T.a)(e,["component"]);return Object(p.jsx)(d.b,{children:function(){return n.loggedIn?Object(p.jsx)(t,Object(L.a)({},n)):Object(p.jsx)(d.a,{to:"/signin"})}})},B=c.a.createContext(),A=(n(47),function(){return Object(p.jsx)("div",{className:"loadingio-spinner-spin-fnepk7fl33h",children:Object(p.jsxs)("div",{className:"ldio-gqe9nbj4c1",children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})})]})})});var P=function(e){var t=e.title,n=e.name,a=e.buttonText,s=e.children,i=e.isOpen,r=e.onClose,o=e.onSubmit,l=e.submitButtonValidation,u=c.a.useContext(B);return Object(p.jsx)("div",{className:"pop-up pop-up_".concat(n," ").concat(i?"pop-up_opened":""),children:Object(p.jsxs)("div",{className:"pop-up__container",children:[Object(p.jsxs)("form",{className:"pop-up__form",name:n,onSubmit:o,noValidate:!0,children:[Object(p.jsx)("h2",{className:"pop-up__title",children:t}),s,Object(p.jsxs)("button",{type:"submit","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0444\u043e\u0440\u043c\u044b",className:"pop-up__save-btn ".concat(l?"":"pop-up__save-btn_invalid"),disabled:!l,children:[a,u?Object(p.jsx)(A,{}):null]})]}),Object(p.jsx)("button",{type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430",title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"pop-up__close-btn",onClick:r})]})})};var U=function(e){var t=e.isOpen,n=e.onClose,s=e.onUpdateUser,i=e.loading,r=e.resetForms,o=c.a.useContext(_),l=Object(a.useState)(""),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(a.useState)(""),m=Object(j.a)(h,2),O=m[0],g=m[1],f=Object(a.useState)(""),v=Object(j.a)(f,2),x=v[0],N=v[1],S=Object(a.useState)(""),C=Object(j.a)(S,2),w=C[0],k=C[1],y=Object(a.useState)(!1),E=Object(j.a)(y,2),L=E[0],T=E[1],I=Object(a.useState)(!1),B=Object(j.a)(I,2),A=B[0],U=B[1];function R(e){e.target.value||"userName"!==e.target.name?e.target.value||"userAbout"!==e.target.name||k("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"):N("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")}return Object(a.useEffect)((function(){b(o.name),g(o.about)}),[o,t]),Object(a.useEffect)((function(){U(!(!d||!O||x||w))}),[d,O,x,w]),Object(a.useEffect)((function(){r&&(N(""),k(""),T(!1),U(!1))}),[r]),Object(p.jsxs)(P,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"edit",buttonText:i?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),s({userName:d,about:O})},submitButtonValidation:A,children:[Object(p.jsxs)("div",{className:"pop-up__input-wrapper",children:[Object(p.jsx)("input",{name:"userName",value:d||"",required:!0,minLength:"2",maxLength:"20",autoComplete:"off",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",type:"text",className:"pop-up__input-text pop-up__input-text_type_name",id:"userName",onChange:function(e){b(e.target.value),e.target.value.length<2||e.target.value.length>=20?(N("\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0435 2 \u0438 \u0431\u043e\u043b\u0435\u0435 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),T(!0)):N("")},onBlur:R}),L&&x&&Object(p.jsx)("span",{id:"userName-error",className:"error",children:x})]}),Object(p.jsxs)("div",{className:"pop-up__input-wrapper",children:[Object(p.jsx)("input",{name:"userAbout",value:O||"",required:!0,minLength:"2",maxLength:"200",autoComplete:"off",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c",type:"text",className:"pop-up__input-text pop-up__input-text_type_about",id:"userAbout",onChange:function(e){g(e.target.value),e.target.value.length<2||e.target.value.length>=200?(k("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0435 2 \u0438 \u0431\u043e\u043b\u0435\u0435 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),T(!0)):k("")},onBlur:R}),L&&w&&Object(p.jsx)("span",{id:"userAbout-error",className:"error",children:w})]})]})};var R=function(e){var t=e.isOpen,n=e.onClose,c=e.onUpdateAvatar,s=e.loading,i=e.resetForms,r=Object(a.useState)(""),o=Object(j.a)(r,2),l=o[0],u=o[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),h=b[0],m=b[1],O=Object(a.useState)(!1),g=Object(j.a)(O,2),f=g[0],_=g[1],v=Object(a.useState)(!1),x=Object(j.a)(v,2),N=x[0],S=x[1];return Object(a.useEffect)((function(){i&&(u(""),m(""),_(!1),S(!1))}),[i]),Object(a.useEffect)((function(){S(!(!l||h))}),[l,h]),Object(p.jsx)(P,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"change-avatar",buttonText:s?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c(l),u("")},submitButtonValidation:N,children:Object(p.jsxs)("div",{className:"pop-up__input-wrapper",children:[Object(p.jsx)("input",{name:"linkToAvatar",required:!0,autoComplete:"off",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",type:"url",className:"pop-up__input-text pop-up__input-text_type_link",id:"linkToAvatar",value:l,onChange:function(e){u(e.target.value),/^(ftp|http|https):\/\/[^ "]+$/.test(e.target.value)?(m(""),_(!1),S(!0)):(m("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL"),_(!0))},onBlur:function(e){e.target.value||m("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")}}),f&&h&&Object(p.jsx)("span",{id:"linkToAvatar-error",className:"error",children:h})]})})};var D=function(e){var t=e.isOpen,n=e.onClose,c=e.onAddPlace,s=e.loading,i=e.resetForms,r=Object(a.useState)(""),o=Object(j.a)(r,2),l=o[0],u=o[1],d=Object(a.useState)(""),b=Object(j.a)(d,2),h=b[0],m=b[1],O=Object(a.useState)(""),g=Object(j.a)(O,2),f=g[0],_=g[1],v=Object(a.useState)(""),x=Object(j.a)(v,2),N=x[0],S=x[1],C=Object(a.useState)(!1),w=Object(j.a)(C,2),k=w[0],y=w[1],E=Object(a.useState)(!1),L=Object(j.a)(E,2),T=L[0],I=L[1];function B(e){e.target.value||"placeTitle"!==e.target.name?e.target.value||"placeLink"!==e.target.name||S("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"):_("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")}return Object(a.useEffect)((function(){I(!(!l||!h||f||N))}),[l,h,f,N]),Object(a.useEffect)((function(){i&&(u(""),m(""),_(""),S(""),y(!1),I(!1))}),[i]),Object(p.jsxs)(P,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"img",buttonText:s?"\u0421\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),c({name:l,link:h}),u(""),m("")},submitButtonValidation:T,children:[Object(p.jsxs)("div",{className:"pop-up__input-wrapper",children:[Object(p.jsx)("input",{name:"placeTitle",required:!0,minLength:"2",maxLength:"30",autoComplete:"off",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",className:"pop-up__input-text pop-up__input-text_type_title",id:"placeName",value:l,onChange:function(e){u(e.target.value),e.target.value.length<2||e.target.value.length>=30?(_("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0435 2 \u0438 \u0431\u043e\u043b\u0435\u0435 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),y(!0)):_("")},onBlur:B}),k&&f&&Object(p.jsx)("span",{id:"placeName-error",className:"error",children:f})]}),Object(p.jsxs)("div",{className:"pop-up__input-wrapper",children:[Object(p.jsx)("input",{name:"placeLink",required:!0,autoComplete:"off",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",type:"url",className:"pop-up__input-text pop-up__input-text_type_link",id:"linkToImage",value:h,onChange:function(e){m(e.target.value),/^(ftp|http|https):\/\/[^ "]+$/.test(e.target.value)?(S(""),y(!1),I(!0)):(S("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL"),y(!0))},onBlur:B}),k&&N&&Object(p.jsx)("span",{id:"linkToImage-error",className:"error",children:N})]})]})};var H=function(e){var t=e.card,n=t.isOpen,a=t.name,c=t.link,s=e.onClose;return Object(p.jsx)("div",{className:"pop-up pop-up_fullscreen ".concat(n?"pop-up_opened":""),children:Object(p.jsxs)("div",{className:"pop-up__container-fullscreen",children:[Object(p.jsx)("img",{src:c,alt:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043c\u0435\u0441\u0442\u0430",className:"pop-up__image-fullscreen"}),Object(p.jsx)("p",{className:"pop-up__captiion-fullscreen",children:a}),Object(p.jsx)("button",{type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430",title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"pop-up__close-btn",onClick:s})]})})},M=n.p+"static/media/infoTooltip-done.a9eb6caf.svg",F=n.p+"static/media/infoTooltip-error.d0f413bf.svg";var q=function(e){var t=e.title,n=e.isOpen,a=e.messageIcon;return Object(p.jsx)("div",{className:"pop-up ".concat(n?"pop-up_opened":""),children:Object(p.jsxs)("div",{className:"pop-up__container",children:[Object(p.jsx)("img",{src:a?M:F,alt:a?"\u0423\u0441\u043f\u0435\u0448\u043d\u043e":"\u041e\u0448\u0438\u0431\u043a\u0430",style:{width:"50px",height:"50px",margin:"0 auto 15px"}}),Object(p.jsx)("h2",{className:"pop-up__title",style:{margin:"0",textAlign:"center"},children:t})]})})},J=(n(48),function(e){var t=e.isOpen;return Object(p.jsx)("div",{className:"pop-up ".concat(t?"pop-up_opened":""),children:Object(p.jsxs)("div",{className:"pop-up__container",children:[Object(p.jsx)("div",{className:"loadingio-spinner-spin-0nakerftw6lh LoadingMessage-spinner",children:Object(p.jsxs)("div",{className:"ldio-j4d19yj87y",children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{})})]})}),Object(p.jsx)("h2",{className:"pop-up__title LoadingMessage-title",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})})}),V=(n(49),function(e){var t=e.isOpen,n=e.onClose,a=e.isDone,c=e.messageText;return Object(p.jsx)("div",{className:"pop-up ".concat(t?"pop-up_opened":""),children:Object(p.jsxs)("div",{className:"pop-up__container",children:[Object(p.jsx)("img",{src:a?M:F,alt:a?"\u0423\u0441\u043f\u0435\u0448\u043d\u043e":"\u041e\u0448\u0438\u0431\u043a\u0430",className:"infoTooltip-icon"}),Object(p.jsx)("h2",{className:"pop-up__title infoTooltip-title",children:c}),Object(p.jsx)("button",{type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430",title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",className:"pop-up__close-btn infoTooltip-button",onClick:n})]})})}),z=n(13),G=n(22),$=new(function(){function e(t){Object(z.a)(this,e),this._BASE_URL=t}return Object(G.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"_headerHeandler",value:function(e){return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json; charset=UTF-8"}}},{key:"getInitialCards",value:function(e){return fetch("".concat(this._BASE_URL,"cards"),{method:"GET",headers:this._headerHeandler(e)}).then(this._checkResponse)}},{key:"getUserInfo",value:function(e){return fetch("".concat(this._BASE_URL,"users/me"),{method:"GET",headers:this._headerHeandler(e)}).then(this._checkResponse)}},{key:"setUserAvatar",value:function(e,t){return fetch("".concat(this._BASE_URL,"users/me/avatar"),{method:"PATCH",headers:this._headerHeandler(e),body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e,t,n){return fetch("".concat(this._BASE_URL,"users/me"),{method:"PATCH",headers:this._headerHeandler(e),body:JSON.stringify({name:t,about:n})}).then(this._checkResponse)}},{key:"setNewCard",value:function(e,t){return fetch("".concat(this._BASE_URL,"cards"),{method:"POST",headers:this._headerHeandler(e),body:JSON.stringify(t)}).then(this._checkResponse)}},{key:"deleteCard",value:function(e,t){return fetch("".concat(this._BASE_URL,"cards/").concat(t),{method:"DELETE",headers:this._headerHeandler(e),body:JSON.stringify({_id:t})}).then(this._checkResponse)}},{key:"changeLike",value:function(e,t,n){return n?fetch("".concat(this._BASE_URL,"cards/").concat(t,"/likes"),{method:"PUT",headers:this._headerHeandler(e)}).then(this._checkResponse):fetch("".concat(this._BASE_URL,"cards/").concat(t,"/likes"),{method:"DELETE",headers:this._headerHeandler(e)}).then(this._checkResponse)}}]),e}())("http://194.67.109.173/"),W=new function e(t){var n=this;Object(z.a)(this,e),this.register=function(e,t){return fetch("".concat(n._BASE_URL,"signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return 400===e.status?Promise.reject("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"):409===e.status?Promise.reject("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"):e.json()}))},this.authorize=function(e,t){return fetch("".concat(n._BASE_URL,"signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return 400===e.status?Promise.reject("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e \u0438\u0437 \u043f\u043e\u043b\u0435\u0439"):401===e.status?Promise.reject("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"):e.json()}))},this.getContent=function(e){return fetch("".concat(n._BASE_URL,"users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return 400===e.status?Promise.reject("\u0422\u043e\u043a\u0435\u043d \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d \u043d\u0435 \u0432 \u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435"):401===e.status?Promise.reject("\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d"):e.json()}))},this._BASE_URL=t}("http://194.67.109.173/");var K=function(){var e=Object(d.g)(),t=Object(a.useState)({}),n=Object(j.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(j.a)(i,2),o=r[0],l=r[1],b=Object(a.useState)(null),h=Object(j.a)(b,2),m=h[0],O=h[1],g=Object(a.useState)(!1),v=Object(j.a)(g,2),S=v[0],k=v[1],y=Object(a.useState)(!0),L=Object(j.a)(y,2),T=L[0],A=L[1],P=Object(a.useState)(!1),M=Object(j.a)(P,2),F=M[0],z=M[1],G=Object(a.useState)(!1),K=Object(j.a)(G,2),Q=K[0],X=K[1],Y=Object(a.useState)(!1),Z=Object(j.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(!1),ae=Object(j.a)(ne,2),ce=ae[0],se=ae[1],ie=Object(a.useState)(!1),re=Object(j.a)(ie,2),oe=re[0],le=re[1],ue=Object(a.useState)(!1),je=Object(j.a)(ue,2),de=je[0],pe=je[1],be=Object(a.useState)(null),he=Object(j.a)(be,2),me=he[0],Oe=he[1],ge=Object(a.useState)(!1),fe=Object(j.a)(ge,2),_e=fe[0],ve=fe[1],xe=Object(a.useState)(""),Ne=Object(j.a)(xe,2),Se=Ne[0],Ce=Ne[1],we=Object(a.useState)(null),ke=Object(j.a)(we,2),ye=ke[0],Ee=ke[1],Le=Object(a.useState)(!1),Te=Object(j.a)(Le,2),Ie=Te[0],Be=Te[1],Ae=Object(a.useState)({}),Pe=Object(j.a)(Ae,2),Ue=Pe[0],Re=Pe[1],De=Object(a.useState)([]),He=Object(j.a)(De,2),Me=He[0],Fe=He[1],qe=Object(a.useState)(null),Je=Object(j.a)(qe,2),Ve=Je[0],ze=Je[1],Ge=Object(a.useState)(""),$e=Object(j.a)(Ge,2),We=$e[0],Ke=$e[1],Qe=Object(a.useState)(""),Xe=Object(j.a)(Qe,2),Ye=Xe[0],Ze=Xe[1],et=Object(a.useState)(!1),tt=Object(j.a)(et,2),nt=tt[0],at=tt[1],ct=Object(a.useState)(""),st=Object(j.a)(ct,2),it=st[0],rt=st[1],ot=Object(a.useState)(""),lt=Object(j.a)(ot,2),ut=lt[0],jt=lt[1],dt=Object(a.useState)(!1),pt=Object(j.a)(dt,2),bt=pt[0],ht=pt[1],mt=Object(a.useState)(!1),Ot=Object(j.a)(mt,2),gt=Ot[0],ft=Ot[1];Object(a.useEffect)((function(){ft(!(!We||!Ye||it||ut))}),[We,Ye,it,ut]),Object(a.useEffect)((function(){if(localStorage.getItem("jwt")){var t=localStorage.getItem("jwt");W.getContent(t).then((function(t){var n=t.data;O(n.email),l(!0),e.push("/")})).catch((function(e){return console.log(e)}))}}),[e]),Object(a.useEffect)((function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");$.getUserInfo(e).then((function(e){var t=e.data;return s(t)})).catch((function(e){s({name:e,about:"Something went wrong",avatar:"https://www.wpfixit.com/wp-content/uploads/2019/03/HTTP-error-when-uploading-images-in-WordPress.jpg"})}))}}),[o]),Object(a.useEffect)((function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");$.getInitialCards(e).then((function(e){var t=e.data;return Fe(t.reverse())})).catch((function(e){return ze("".concat(e," - Something went wrong"))}))}}),[o]);var _t={email:We,password:Ye,emailError:it,passwordError:ut,authDirty:bt,validForm:gt,handleChangeEmail:function(e){Ke(e.target.value),"email"===e.target.name&&e.target.value.length<6?(rt("Email \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),ht(!0)):rt("")},handleChangePassword:function(e){Ze(e.target.value),"password"===e.target.name&&e.target.value.length<8?(jt("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),ht(!0)):jt("")},blurHandler:function(e){e.target.value||"email"!==e.target.name?e.target.value||"password"!==e.target.name||jt("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"):rt("\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")}},vt=function(){Ke(""),Ze("")},xt=function(e){se(!0),Ce(e);setTimeout((function(){se(!1)}),1500)},Nt=function(){z(!1),X(!1),te(!1),pe(!1),Re({}),ve(!1),Be(!0),Ce("")};return Object(p.jsx)(B.Provider,{value:_e,children:Object(p.jsx)(_.Provider,{value:c,children:Object(p.jsx)("div",{className:"body",children:Object(p.jsxs)("div",{className:"page",children:[Object(p.jsx)(f,{component:E,userEmail:m,loggedIn:o,visibleHeaderMenu:S,signOut:function(){localStorage.removeItem("jwt"),l(!1),vt(),O(""),e.push("/")},changeHeaderMenu:function(){!S&&T?(k(!0),A(!1)):(k(!1),A(!0))},headerMenuBurger:T,loginPage:nt,handleChangeLoginPage:function(){at(!1)}}),Object(p.jsxs)(d.d,{children:[Object(p.jsx)(d.b,{path:"/signin",children:Object(p.jsx)(C,{authData:_t,handleSubmitLogin:function(){le(!0),W.authorize(We,Ye).then((function(t){var n=t.token;if(n)return localStorage.setItem("jwt",n),O(We),le(!1),l(!0),e.push("/"),n})).catch((function(e){Oe(!1),le(!1),pe(!0),Ce(e)}))},setLoginPage:at})}),Object(p.jsx)(d.b,{path:"/signup",children:Object(p.jsx)(w,{authData:_t,handleSubmitRegister:function(){W.register(We,Ye).then((function(t){var n=t.data;n&&(O(n.email),Oe(!0),Ce("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"),pe(!0),vt(),e.push("/signin"))})).catch((function(e){Oe(!1),Ce(e),pe(!0)}))}})}),Object(p.jsx)(I,{exact:!0,path:"/",component:x,loggedIn:o,onEditAvatar:function(){z(!0),Be(!1)},onEditProfile:function(){X(!0),Be(!1)},onAddPlace:function(){te(!0),Be(!1)},onCardClick:function(e,t){Re({isOpen:!0,name:e,link:t})},cards:Me,cardsError:Ve,onCardLike:function(e,t){var n=e.some((function(e){return e===c._id}));if(localStorage.getItem("jwt")){var a=localStorage.getItem("jwt");$.changeLike(a,t,!n).then((function(e){var n=e.data;Fe((function(e){return e.map((function(e){return e._id===t?n:e}))})),Ee(!0)})).catch((function(e){return xt("Something went wrong - ".concat(e))})),Ee(!1)}},onCardDelete:function(e){if(localStorage.getItem("jwt")){var t=localStorage.getItem("jwt");$.deleteCard(t,e).then((function(t){Fe((function(t){return t.filter((function(t){return t._id!==e}))})),t&&(xt("\u041f\u043e\u0441\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"),Ee(!0))})).catch((function(e){xt("Something went wrong - ".concat(e)),Ee(!1)}))}}}),Object(p.jsx)(d.b,{children:o?Object(p.jsx)(d.a,{to:"/"}):Object(p.jsx)(d.a,{to:"/signin"})})]}),Object(p.jsx)(N,{}),Object(p.jsx)(R,{isOpen:F,onClose:Nt,onUpdateAvatar:function(e){if(ve(!0),localStorage.getItem("jwt")){var t=localStorage.getItem("jwt");$.setUserAvatar(t,e).then((function(e){var t=e.data;s(t),ve(!1),Nt()})).catch((function(e){xt("Something went wrong - ".concat(e)),Ee(!1),ve(!1)}))}},loading:_e,resetForms:Ie}),Object(p.jsx)(U,{isOpen:Q,onClose:Nt,onUpdateUser:function(e){var t=e.userName,n=e.about;if(ve(!0),localStorage.getItem("jwt")){var a=localStorage.getItem("jwt");$.setUserInfo(a,t,n).then((function(e){var t=e.data;s(t),ve(!1),Nt()})).catch((function(e){xt("Something went wrong - ".concat(e)),Ee(!1),ve(!1)}))}},loading:_e,resetForms:Ie}),Object(p.jsx)(D,{isOpen:ee,onClose:Nt,onAddPlace:function(e){if(ve(!0),localStorage.getItem("jwt")){var t=localStorage.getItem("jwt");$.setNewCard(t,e).then((function(e){var t=e.data;Fe([t].concat(Object(u.a)(Me))),ve(!1),Nt()})).catch((function(e){xt("Something went wrong - ".concat(e)),Ee(!1),ve(!1)}))}},loading:_e,resetForms:Ie}),Object(p.jsx)(H,{card:Ue,onClose:Nt}),Object(p.jsx)(q,{messageIcon:ye,title:Se,isOpen:ce}),Object(p.jsx)(J,{isOpen:oe}),Object(p.jsx)(V,{isOpen:de,onClose:Nt,isDone:me,messageText:Se})]})})})})};i.a.render(Object(p.jsxs)(c.a.StrictMode,{children:[Object(p.jsx)(o.a,{url:"https://img.icons8.com/emoji/48/000000/russia-emoji.png"}),Object(p.jsx)(l.a,{children:Object(p.jsx)(K,{})})]}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.d08a907f.chunk.js.map